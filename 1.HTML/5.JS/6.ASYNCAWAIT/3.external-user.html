<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <h2>사용자 조회</h2>
        <input type="number" id="user-id" placeholder="사용자 id입력" />
        <button id="load-content">불러오기</button>
        <div id="result"></div>
        <script>
            document.getElementById('load-content').addEventListener('click', async () => {
                const userId = document.getElementById('user-id').value;
                const requestURL = `https://jsonplaceholder.typicode.com/users/${userId}`;
                try {
                    const response = await fetch(requestURL);
                    const data = await checkResponseStatus(response);
                    renderResponseToResult(data);
                } catch (e) {
                    alert(e);
                }
            });

            function checkResponseStatus(response) {
                if (!response.ok) throw new Error('network error');
                return response.json();
            }

            function renderResponseToResult(data) {
                console.log(data);
                document.getElementById('result').innerHTML = `
                        <p><strong>이름</strong> ${data.name}</p>
                        <p><strong>이메일</strong> ${data.email}</p>
                        <p><strong>전화번호</strong> ${data.phone}</p>
                        <p><strong>웹사이트</strong> ${data.website}</p>
                        `;
            }
        </script>
    </body>
</html>
