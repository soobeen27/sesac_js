<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>login form</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            h1 {
                font-size: 24px;
                font-weight: 400;
                margin: 16px 16px 10px 16px;
            }
            .inputIcon {
                padding: 6px;
                color: gray;
            }
            #container {
                display: flex;
                flex-direction: column;
                width: 600px;
            }
            form * {
                margin-bottom: 25px;
            }

            form label {
                margin-left: 16px;
                font-size: 14px;
            }

            .inputContainer {
                position: relative;
                display: flex;
                margin-left: 16px;
                height: 30px;
                border-color: rgb(200, 200, 200);
            }

            .inputContainer span {
                display: flex;
                justify-content: center;
                align-items: start;
                background-color: rgb(230, 230, 230);
                border-color: rgb(200, 200, 200);
                border-width: 1px 0 1px 1px;
                border-style: solid;
                border-bottom-left-radius: 4px;
                border-top-left-radius: 4px;
                height: 100%;
                width: 30px;
            }

            .input {
                display: inline;
                text-indent: 8px;
                width: 100%;
                height: 100%;
                padding-right: 8px;
                border: 0;
                border: 1px solid rgb(200, 200, 200);
            }
            .input:focus {
                outline: none;
            }

            #interestContainer {
                margin-top: 10px;
            }

            #interestContainer label {
                margin-right: 10px;
            }

            #submitBtn {
                background-color: rgb(73, 73, 248);
                color: white;
                border-radius: 4px;
                padding: 8px 16px;
                margin-left: 16px;
                border: 0;
            }
            .wrongInputIcon,
            .rightInputIcon {
                position: absolute;
                display: none;
                right: 10px;
                width: 15px;
                top: 50%;
                transform: translateY(-50%);
            }

            .wrongInputIcon {
                color: red;
            }

            .rightInputIcon {
                color: green;
            }

            .inputError {
                border-color: red;
            }

            .inputRight {
                border-color: green;
            }
        </style>
    </head>
    <body>
        <div id="container">
            <h1>회원가입 폼</h1>
            <form>
                <label for="userID">사용자명</label>
                <div class="inputContainer">
                    <span
                        ><svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            class="inputIcon"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"
                            />
                        </svg>
                    </span>
                    <input
                        class="input"
                        type="text"
                        name="userID"
                        placeholder="3~10글자로 입력하세요"
                    />
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="wrongInputIcon"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"
                        />
                    </svg>
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="rightInputIcon"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="m4.5 12.75 6 6 9-13.5"
                        />
                    </svg>
                </div>

                <label for="password">비밀번호</label>
                <div class="inputContainer">
                    <span>
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            class="inputIcon"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"
                            />
                        </svg>
                    </span>
                    <input
                        class="input"
                        type="password"
                        name="password"
                        placeholder="대소문자, 숫자/특수문자 포함 8자 이상"
                    />
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="wrongInputIcon"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"
                        />
                    </svg>
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="rightInputIcon"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="m4.5 12.75 6 6 9-13.5"
                        />
                    </svg>
                </div>

                <label for="name">이름</label>
                <div class="inputContainer">
                    <span>
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            class="inputIcon"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"
                            />
                        </svg>
                    </span>
                    <input
                        class="input"
                        type="text"
                        name="name"
                        placeholder="1~10글자로 입력하세요"
                    />
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="wrongInputIcon"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"
                        />
                    </svg>
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="rightInputIcon"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="m4.5 12.75 6 6 9-13.5"
                        />
                    </svg>
                </div>

                <label for="birthdate">생년월일</label>
                <div class="inputContainer">
                    <span
                        ><svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            class="inputIcon"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"
                            />
                        </svg>
                    </span>
                    <input class="input" type="date" name="birthdate" />
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="wrongInputIcon"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"
                        />
                    </svg>
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="rightInputIcon"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="m4.5 12.75 6 6 9-13.5"
                        />
                    </svg>
                </div>
                <label for="interests"
                    >관심 분야 (최소1개, 최대 3개 선택)</label
                >
                <div id="interestContainer">
                    <label for="interest">
                        <input
                            type="checkbox"
                            class="interestedCheck"
                            value="1"
                        />
                        관심분야 1</label
                    >
                    <label for="interest">
                        <input
                            type="checkbox"
                            class="interestedCheck"
                            value="2"
                        />
                        관심분야 2</label
                    >
                    <label for="interest">
                        <input
                            type="checkbox"
                            class="interestedCheck"
                            value="3"
                        />
                        관심분야 3</label
                    >
                    <label for="interest">
                        <input
                            type="checkbox"
                            class="interestedCheck"
                            value="4"
                        />
                        관심분야 4</label
                    >
                </div>
                <button id="submitBtn">제출</button>
            </form>
        </div>
        <script>
            const inputs = document.querySelectorAll(".input");
            inputs.forEach((input) => {
                input.addEventListener("input", (ev) => {
                    const inputContainer = input.closest(".inputContainer");
                    const rightIcon =
                        inputContainer.querySelector(".rightInputIcon");
                    const wrongIcon =
                        inputContainer.querySelector(".wrongInputIcon");
                    if (isInputRight(input.name, input.value)) {
                        input.classList.add("inputRight");
                        input.classList.remove("inputError");
                        rightIcon.style.display = "block";
                        wrongIcon.style.display = "none";
                    } else {
                        input.classList.remove("inputRight");
                        input.classList.add("inputError");
                        wrongIcon.style.display = "block";
                        rightIcon.style.display = "none";
                    }
                    if (input.name === "birthdate") {
                        input.style.paddingRight = "25px";
                    }
                });
            });

            const checkBoxes = document.querySelectorAll(".interestedCheck");
            checkBoxes.forEach((checkBox) => {
                checkBox.addEventListener("change", () => {
                    const checkCount = document.querySelectorAll(
                        ".interestedCheck:checked"
                    ).length;
                    if (checkCount === 0) {
                        console.log("한개는 선택");
                    }
                    if (checkCount > 3) {
                        console.log("3개 이상 선택 ㄴㄴ");
                    }
                });
            });

            function isInputRight(name, text) {
                switch (name) {
                    case "userID":
                        console.log(text);
                        if ((3 <= text.length) & (text.length <= 10)) {
                            return true;
                        }
                        return false;
                    case "password":
                        const regex =
                            /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/;
                        return regex.test(text);
                        break;
                    case "name":
                        if ((1 <= text.length) & (text.length <= 10)) {
                            return true;
                        }
                        break;
                    case "birthdate":
                        if (text) return true;
                        return false;
                    default:
                        break;
                }
            }
        </script>
    </body>
</html>
